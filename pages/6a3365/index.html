<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Deepin 自定义修改窗口圆角大小 | Documentation</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="Deepin Documentation">
    <link rel="preload" href="/assets/css/0.styles.bc4b65ce.css" as="style"><link rel="preload" href="/assets/js/app.fc02f5f4.js" as="script"><link rel="preload" href="/assets/js/2.ed4cc2e0.js" as="script"><link rel="preload" href="/assets/js/53.da75e3f7.js" as="script"><link rel="prefetch" href="/assets/js/10.86575e39.js"><link rel="prefetch" href="/assets/js/11.d85b8aec.js"><link rel="prefetch" href="/assets/js/12.b4a78faa.js"><link rel="prefetch" href="/assets/js/13.248879fa.js"><link rel="prefetch" href="/assets/js/14.15b994ed.js"><link rel="prefetch" href="/assets/js/15.e7d62da7.js"><link rel="prefetch" href="/assets/js/16.41425aa3.js"><link rel="prefetch" href="/assets/js/17.dc7889a9.js"><link rel="prefetch" href="/assets/js/18.7ea56f7e.js"><link rel="prefetch" href="/assets/js/19.5aeea5db.js"><link rel="prefetch" href="/assets/js/20.b2e072f0.js"><link rel="prefetch" href="/assets/js/21.5924bdf2.js"><link rel="prefetch" href="/assets/js/22.cf042521.js"><link rel="prefetch" href="/assets/js/23.f2ee7769.js"><link rel="prefetch" href="/assets/js/24.5bb33450.js"><link rel="prefetch" href="/assets/js/25.7452915d.js"><link rel="prefetch" href="/assets/js/26.7a90897c.js"><link rel="prefetch" href="/assets/js/27.8b918370.js"><link rel="prefetch" href="/assets/js/28.cef77b0d.js"><link rel="prefetch" href="/assets/js/29.112a9086.js"><link rel="prefetch" href="/assets/js/3.58e00342.js"><link rel="prefetch" href="/assets/js/30.04d4d50b.js"><link rel="prefetch" href="/assets/js/31.e07a0e82.js"><link rel="prefetch" href="/assets/js/32.b62a2be3.js"><link rel="prefetch" href="/assets/js/33.7dc6c043.js"><link rel="prefetch" href="/assets/js/34.25c9b37a.js"><link rel="prefetch" href="/assets/js/35.a3ab194c.js"><link rel="prefetch" href="/assets/js/36.2c23373a.js"><link rel="prefetch" href="/assets/js/37.54c005ef.js"><link rel="prefetch" href="/assets/js/38.94ee54fd.js"><link rel="prefetch" href="/assets/js/39.542c4dea.js"><link rel="prefetch" href="/assets/js/4.325b2889.js"><link rel="prefetch" href="/assets/js/40.75358810.js"><link rel="prefetch" href="/assets/js/41.fdfb67a4.js"><link rel="prefetch" href="/assets/js/42.9fbdfcc6.js"><link rel="prefetch" href="/assets/js/43.ea06eb5d.js"><link rel="prefetch" href="/assets/js/44.9a8209a3.js"><link rel="prefetch" href="/assets/js/45.dc43d89a.js"><link rel="prefetch" href="/assets/js/46.b481d9d5.js"><link rel="prefetch" href="/assets/js/47.a00f3f62.js"><link rel="prefetch" href="/assets/js/48.b6596210.js"><link rel="prefetch" href="/assets/js/49.2237f57f.js"><link rel="prefetch" href="/assets/js/5.942fd879.js"><link rel="prefetch" href="/assets/js/50.9bf499cc.js"><link rel="prefetch" href="/assets/js/51.83917165.js"><link rel="prefetch" href="/assets/js/52.9884a8fd.js"><link rel="prefetch" href="/assets/js/54.a0fa7f9b.js"><link rel="prefetch" href="/assets/js/55.027a0efd.js"><link rel="prefetch" href="/assets/js/56.5a2ed569.js"><link rel="prefetch" href="/assets/js/57.ecabee60.js"><link rel="prefetch" href="/assets/js/58.1c8eb019.js"><link rel="prefetch" href="/assets/js/59.b1e316bb.js"><link rel="prefetch" href="/assets/js/6.54e0f90a.js"><link rel="prefetch" href="/assets/js/60.bfa0e207.js"><link rel="prefetch" href="/assets/js/61.aac0012b.js"><link rel="prefetch" href="/assets/js/62.9537dafe.js"><link rel="prefetch" href="/assets/js/63.8c35fb96.js"><link rel="prefetch" href="/assets/js/64.d292e640.js"><link rel="prefetch" href="/assets/js/65.b49c87ee.js"><link rel="prefetch" href="/assets/js/66.779681a8.js"><link rel="prefetch" href="/assets/js/67.93ed162b.js"><link rel="prefetch" href="/assets/js/68.f77337a0.js"><link rel="prefetch" href="/assets/js/69.a1329256.js"><link rel="prefetch" href="/assets/js/7.af735ca0.js"><link rel="prefetch" href="/assets/js/70.b79ad3dd.js"><link rel="prefetch" href="/assets/js/71.947ecccf.js"><link rel="prefetch" href="/assets/js/72.e7182269.js"><link rel="prefetch" href="/assets/js/73.674a36a8.js"><link rel="prefetch" href="/assets/js/74.781b584b.js"><link rel="prefetch" href="/assets/js/75.3ce5b844.js"><link rel="prefetch" href="/assets/js/76.60ee4152.js"><link rel="prefetch" href="/assets/js/8.b92f87b7.js"><link rel="prefetch" href="/assets/js/9.858e5a21.js">
    <link rel="stylesheet" href="/assets/css/0.styles.bc4b65ce.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/deepin.png" alt="Documentation" class="logo"> <span class="site-name can-hide">Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/pages/3fd76c/" class="nav-link">指南</a></div><div class="nav-item"><a href="/pages/45e05f/" class="nav-link">DTK</a></div><div class="nav-item"><a href="/pages/c15bcd/" class="nav-link">经验分享</a></div><div class="nav-item"><a href="/pages/6903df/" class="nav-link">社区作品</a></div><div class="nav-item"><a href="/pages/3b5851/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Translation" class="dropdown-title"><!----> <span class="title" style="display:;">Translation</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----> <a href="/pages/ebde83/" class="nav-link">English</a></li></ul></div></div> <a href="https://github.com/linuxdeepin/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://raw.githubusercontent.com/xmuli/xmuliPic/pic/2020/DCIM.gif"> <div class="blogger-info"><h3>Deepin</h3> <span>Deepin 社区文档</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/pages/3fd76c/" class="nav-link">指南</a></div><div class="nav-item"><a href="/pages/45e05f/" class="nav-link">DTK</a></div><div class="nav-item"><a href="/pages/c15bcd/" class="nav-link">经验分享</a></div><div class="nav-item"><a href="/pages/6903df/" class="nav-link">社区作品</a></div><div class="nav-item"><a href="/pages/3b5851/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Translation" class="dropdown-title"><!----> <span class="title" style="display:;">Translation</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----> <a href="/pages/ebde83/" class="nav-link">English</a></li></ul></div></div> <a href="https://github.com/linuxdeepin/docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/pages/6903df/" class="sidebar-link">READMEmd</a></li><li><a href="/pages/fb3f3a/" class="sidebar-link">dde-dock 开发网速插件 lfxSpeed</a></li><li><a href="/pages/6a3365/" aria-current="page" class="active sidebar-link">Deepin 自定义修改窗口圆角大小</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/6a3365/#前言" class="sidebar-link">前言：</a></li><li class="sidebar-sub-header"><a href="/pages/6a3365/#文案设计" class="sidebar-link">文案设计:</a></li><li class="sidebar-sub-header"><a href="/pages/6a3365/#修改圆角窗口思路" class="sidebar-link">修改圆角窗口思路：</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/6a3365/#修改-dtkgui-代码" class="sidebar-link">修改 dtkgui 代码：</a></li><li class="sidebar-sub-header"><a href="/pages/6a3365/#修改-dde-control-center-代码" class="sidebar-link">修改 dde-control-center 代码：</a></li><li class="sidebar-sub-header"><a href="/pages/6a3365/#修改-dde-dock-代码" class="sidebar-link">修改 dde-dock 代码：</a></li><li class="sidebar-sub-header"><a href="/pages/6a3365/#后期优化" class="sidebar-link">后期优化：</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/6a3365/#自定义设置圆角大小" class="sidebar-link">自定义设置圆角大小：</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/6a3365/#方式一" class="sidebar-link">方式一：</a></li><li class="sidebar-sub-header"><a href="/pages/6a3365/#方式二" class="sidebar-link">方式二：</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/6a3365/#最终效果" class="sidebar-link">最终效果：</a></li><li class="sidebar-sub-header"><a href="/pages/6a3365/#碎碎念总结" class="sidebar-link">碎碎念总结~：</a></li><li class="sidebar-sub-header"><a href="/pages/6a3365/#一起参与贡献" class="sidebar-link">一起参与贡献：</a></li><li class="sidebar-sub-header"><a href="/pages/6a3365/#更新-2020-11-16" class="sidebar-link">更新: 2020-11-16</a></li><li class="sidebar-sub-header"><a href="/pages/6a3365/#总结" class="sidebar-link">总结:</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/6a3365/#系列地址" class="sidebar-link">系列地址：</a></li></ul></li></ul></li><li><a href="/pages/fa806e/" class="sidebar-link">DTK 基础教程：自定义控件规范</a></li><li><a href="/pages/1acdc2/" class="sidebar-link">DTK常用和测试代码片</a></li><li><a href="/pages/3a0dcd/" class="sidebar-link">DTK的历史起源、发展，和简单入门(精华篇)</a></li><li><a href="/pages/2bcddd/" class="sidebar-link">基于lfxSpeed制作的infomation-tips</a></li><li><a href="/pages/82ea0c/" class="sidebar-link">DDE Store</a></li></ul> </aside> <div><main class="page"> <div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-1b7c64bb><div class="articleInfo" data-v-1b7c64bb><ul class="breadcrumbs" data-v-1b7c64bb><li data-v-1b7c64bb><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-1b7c64bb></a></li> <li data-v-1b7c64bb><span data-v-1b7c64bb>社区作品</span></li> <!----></ul> <div class="info" data-v-1b7c64bb><div title="作者" class="author iconfont icon-touxiang" data-v-1b7c64bb><a href="https://github.com/linuxdeepin" target="_blank" title="作者" class="beLink" data-v-1b7c64bb>Deepin | Any developer</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-1b7c64bb><a href="javascript:;" data-v-1b7c64bb>2020-10-22</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">
          Deepin 自定义修改窗口圆角大小
        </h1> <div class="theme-vdoing-content content__default"><p><strong>简  述：</strong> 社区版本 <code>Deepin</code>  的<code>大圆角</code> 官方版本的 <strong>“小杯”、“中杯”、“超大杯”</strong> 来了。所有窗口有和任务栏有了 <strong>直角、小圆角、大圆角 （0px、8px、 18px）</strong>。附上详细修改教程步骤，和如何修改任意角度的圆角。</p> <iframe width="760" height="427" src="//player.bilibili.com/player.html?aid=245084838&amp;bvid=BV1jv411C7oW&amp;cid=247386263&amp;page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="allowfullscreen"></iframe> <p>[TOC]</p> <br> <br> <blockquote><p>文章来源：本文初发于 <strong>偕臧</strong> <a href="https://xmuli.tech/posts/cd317ccc/" target="_blank" rel="noopener noreferrer">https://xmuli.tech<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，同步转载于此。</p> <p>翻译的英文版本： <a href="https://xmuli.tech/posts/3757693a/" target="_blank" rel="noopener noreferrer">Deepin Custom Modify Window Corner Rounding Size<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言：</h2> <p>对于 <code>DDE</code> 一直以来的大圆角 <code>18px</code>，社区有着不同审美，有人希望坚持大圆角、有人希望调整小圆角、和直角；个人经历和生活环境不同，柑橘也不一样，所以有着各自不同角度的看待想法，能够互相欣赏即可</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20201022150848.png" width="25%"> <p><code>DDE</code> 的圆角修改范围为： **所有主窗口的圆角 + Dock 圆角 + Menu 圆角 ** 。</p> <p>本次修改只涉及社区 <code>Deepin</code> 拥有此功能（属于社区定制功能，也是某文和社区心心恋恋的~ ）。</p> <p><code>UOS</code> 版本默认不开启，当然，你想体验的话，也可通过命令来修改圆角大小 （此类功能，暂时都属于规定的计划之外。 也害怕被 <code>UOS</code> 的产品经理、开发们锤、然后被测试小姐姐报 <code>bug</code> 单）。</p> <blockquote><p>因 <code>Deepin</code> 和 <code>UOS</code> 实际是一个产品的两种不同形态。</p></blockquote> <br> <h2 id="文案设计"><a href="#文案设计" class="header-anchor">#</a> 文案设计:</h2> <ul><li><strong>中文文案:</strong> <code>窗口圆角</code>， <code>小</code>， <code>中</code>， <code>大</code></li> <li><strong>English 文案 :</strong> <code>Rounded Corner</code>， <code>small</code>，  <code>medium</code>，  <code>large</code></li></ul> <p>大圆角（系统原本样式）：窗口 = 18px；   中圆角：窗口 = 8px；    小圆角：窗口 = 0px；    对于 内部（按钮、item背景等）的圆角大小， 不做修改。</p> <p>嗯嗯 ，，也是来自设计部的小姐姐（人也美）给的设计图，由于篇幅，就不上图了（<s>我说的是设计图</s>）， 确实很棒，，，</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/eb07e579-973e-4a08-aab8-0f8e120dccfc.png" width="25%"> <br> <h2 id="修改圆角窗口思路"><a href="#修改圆角窗口思路" class="header-anchor">#</a> 修改圆角窗口思路：</h2> <blockquote><ol><li>先 <code>fork</code> 官网仓库到自己的仓库；</li> <li>编译项目的依赖， 执行 <code>sudo apt build-dep dtkgui</code>  ，或者去项目根目录下， 执行 <code>dpkg-checkbuilddeps</code> ；</li> <li>修改代码， 按照格式提交（很重要）</li> <li>测试达到预期后后、提交代码，等待合并</li></ol></blockquote> <p>如何实现，修改地方一共要设计三个项目：</p> <ul><li><a href="https://github.com/linuxdeepin/dtkgui" target="_blank" rel="noopener noreferrer">dtkgui<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ：修改基础的圆角数值、添加接口</li> <li><a href="https://github.com/linuxdeepin/dde-control-center" target="_blank" rel="noopener noreferrer">dde-control-center<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ：添加控件修改软件的圆角数值，国际化翻译</li> <li><a href="https://github.com/linuxdeepin/dde-dock" target="_blank" rel="noopener noreferrer">dde-dock<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ：同时修改任务栏 dock 的在“时尚模式”下的圆角大小数值</li></ul> <br> <h3 id="修改-dtkgui-代码"><a href="#修改-dtkgui-代码" class="header-anchor">#</a> 修改 dtkgui 代码：</h3> <p>先添加对应的接口；要确 <code>winID</code> 被创建后（不然会被创建一个默认的窗口），再修改 属性的数值， 否则 dock 会变灰，右键菜单等都会变成不透明的严重 bug。 本次修改提交，代码如下。</p> <p><strong>修改代码提交:</strong></p> <blockquote><ol><li><a href="https://github.com/linuxdeepin/dtkgui/commit/a3b9836b83f92e308b2af58c148350471119690b" target="_blank" rel="noopener noreferrer">commit  a3b9836b<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>                        // 添加修改圆角接口</li> <li><a href="https://github.com/linuxdeepin/dtkgui/commit/de1f742edefee47963515acf63721ffb53193a8b" target="_blank" rel="noopener noreferrer">commit  de1f742e<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>                         // 修复默显示为直角角</li> <li><a href="https://github.com/linuxdeepin/dtkgui/commit/6ae8f77d42beea9e026444f29944cc06d298b3e6" target="_blank" rel="noopener noreferrer">commit  6ae8f77d<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>                        // 修复 ToolTip 的圆角为 18px 的不美观的意外 bug</li> <li><a href="https://github.com/linuxdeepin/dtkgui/commit/ea60f6b0bb40cad111548a8374060f06473f66b1" target="_blank" rel="noopener noreferrer">commit  ea60f6b0<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>                        // 优化代码</li></ol></blockquote> <br> <p>运行之后，将新的头文件和生成的二进制，替换进系统，查看效果</p> <div class="language-bash extra-class"><pre class="language-bash"><code>☁  dtkgui <span class="token punctuation">[</span>master<span class="token punctuation">]</span> ⚡ <span class="token function">sudo</span> <span class="token function">rm</span> -rf /usr/lib/x86_64-linux-gnu/libdtkgui.so.5.2.2
☁  dtkgui <span class="token punctuation">[</span>master<span class="token punctuation">]</span> ⚡ <span class="token function">sudo</span> <span class="token function">cp</span> ~/project/build-dtkgui-unknown-Debug/src/libdtkgui.so.5.2.2 /usr/lib/x86_64-linux-gnu/
☁  dtkgui <span class="token punctuation">[</span>master<span class="token punctuation">]</span> ⚡  <span class="token function">sudo</span> <span class="token function">cp</span> src/dplatformtheme.h /usr/include/libdtk-5.2.2/DGui
</code></pre></div><br> <h3 id="修改-dde-control-center-代码"><a href="#修改-dde-control-center-代码" class="header-anchor">#</a> 修改 dde-control-center 代码：</h3> <p><strong>修改代码提交:</strong></p> <blockquote><ol><li><a href="https://github.com/linuxdeepin/dde-control-center/commit/a37aae159ab5fb0b8c4cbb8189e81e8ac81f0f43" target="_blank" rel="noopener noreferrer">commit  a37aae15<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>                           // 添加控件修改大圆角度的数值</li> <li><a href="https://github.com/linuxdeepin/dde-control-center/commit/b9926d9795cb39d9298d22c295eed90dd437fe11" target="_blank" rel="noopener noreferrer">commit  b9926d97<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>                          // 添加对的应国际化翻译</li> <li><a href="https://github.com/linuxdeepin/dde-control-center/commit/a6ea6be6927efede1ee3b7aac7265adcb62c21a9" target="_blank" rel="noopener noreferrer">commit  a6ea6be6<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>                          // 修复布局错误导致其他控件的被压缩显示</li></ol></blockquote> <p>直接运行，查看是否有实时效果。</p> <br> <h3 id="修改-dde-dock-代码"><a href="#修改-dde-dock-代码" class="header-anchor">#</a> 修改 dde-dock 代码：</h3> <p><strong>修改代码提交:</strong></p> <blockquote><ol><li><a href="https://github.com/linuxdeepin/dde-dock/commit/89cf36abf18a5a0283db739a5b3cd053b1e011f1" target="_blank" rel="noopener noreferrer">commit  89cf36ab<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>                              // Dock 任务栏修改大圆角</li> <li><a href="https://github.com/linuxdeepin/dde-dock/commit/63953ef5d05a7320ac3bd2d952602038d6b1fb48" target="_blank" rel="noopener noreferrer">commit  63953ef5<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>                              // 修复 注销重启后，dock 默认显示为直角</li></ol></blockquote> <p>运行编译下想要看下效果，需要先下载 <code>dconf-editor</code> 软件， 搜寻 看门狗 <code>watchdog</code>， 然后关闭 <code>dde-dock</code> 的按钮，这样就可以运行代码生成的 dock 而非一直显示系统本身的任务栏 dock。</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20201020202526.png" width="50%"> <br> <h3 id="后期优化"><a href="#后期优化" class="header-anchor">#</a> 后期优化：</h3> <p>突然，被楼上测试小姐姐报告了一个缺陷，</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/407bef0d-99f4-412e-a10b-7cd0729351b2.gif" width="40%"> <p>由于只在前端做了此值的设置， 所以每次 “注销 、重启、关闭特效后再开启”， 都会导致此值 <code>&quot;DTK/windowRadius&quot; QVariant(int, 8)</code> 的丢失，从而导致都会显示为大圆角。</p> <p>下一阶段，会在后端一块给此添加赋值，修复此缺陷。</p> <br> <h2 id="自定义设置圆角大小"><a href="#自定义设置圆角大小" class="header-anchor">#</a> 自定义设置圆角大小：</h2> <h3 id="方式一"><a href="#方式一" class="header-anchor">#</a> 方式一：</h3> <p>通过界面调整 <strong>“控制中心 - 个性化- 圆角窗口“</strong>  的修改（仅对 <code>Deepin</code> 有效）。只有 直角<code>(0px</code>)、小圆角（<code>8px</code>） 、和 大圆角(18px) 三档可调。</p> <br> <h3 id="方式二"><a href="#方式二" class="header-anchor">#</a> 方式二：</h3> <p>通过命令终端调整，执行命令：其中具体的参数 <code>8</code> 可以替换为任意数字的角度，且对 <code>Deepin</code> 和 <code>UOS</code> 都生效。</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 终端手动调整数值 &quot;DTK/windowRadius&quot; QVariant(int， 8)</span>
/usr/lib/x86_64-linux-gnu/libdtk-5.2.2/DGui/bin/deepin-gui-settings --set <span class="token string">&quot;DTK/WindowRadius&quot;</span> -i <span class="token number">8</span>  // 设定圆角数值

/usr/lib/x86_64-linux-gnu/libdtk-5.2.2/DGui/bin/deepin-gui-settings    // 查看圆角数值
</code></pre></div><blockquote><p>PS： 若是此路径下没有此运行程序，则需要执行： <code>sudo apt install libdtkgui5-bin</code></p></blockquote> <br> <h2 id="最终效果"><a href="#最终效果" class="header-anchor">#</a> 最终效果：</h2> <p>没图，没图说个🔨：</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/20201022145645.png" width="30%"> <p>赶紧先放一下最终的实现效果：</p> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/截图录屏_dde-desktop_20201015211555.png" width="90%"> <br> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/截图录屏_dde-desktop_20201015211629.png" width="90%"> <br> <img src="https://cdn.jsdelivr.net/gh/xmuli/xmuliPic@pic/2020/截图录屏_dde-desktop_20201015211822.png" width="90%"> <br> <h2 id="碎碎念总结"><a href="#碎碎念总结" class="header-anchor">#</a> 碎碎念总结~：</h2> <p>本次功能很小，但却是社区用户的一直想要的功能，提交很多此次。一是被测试小姐姐测出来的，二是秉持一个提交只干一件事情。三是给想参与社区贡献的小伙伴，一个提交示范，展示如何从 <code>github</code> 提交 <code>pr</code> 然后被合并到 主干代码的流程。四是分享自己的细节和快乐。</p> <p>对于任意的一个软件，个人觉得都应该是秉持 <strong>”以人为本“</strong>  的观点。<strong>一个产品应该有温度的</strong> ，在一些细节的地方有着对用户的细心呵护，而不知识一个冷冰冰的设备。没得一点感情，虽然需要时候能用，但是不用后就丢弃，以后再也想不起。 人生短暂，得做一点有意思的事情。始终尽我所能，为其添加一份心意在里面。也感谢过程中指点的思路的大佬们。</p> <br> <h2 id="一起参与贡献"><a href="#一起参与贡献" class="header-anchor">#</a> 一起参与贡献：</h2> <p>若是感兴趣，你也可以添加一些新功能在里面，直接合入上游的 Deepin 主线代码中。源码直接在 <a href="https://github.com/linuxdeepin" target="_blank" rel="noopener noreferrer">linuxdeepin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 中下载，是实时和 内网代码同步的。关于DTK 的除了看源码注释，还可以看 <a href="https://linuxdeepin.github.io/dtk/" target="_blank" rel="noopener noreferrer">DTK API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 网页说明（目前每日更新）。然后 <code>fork</code> 后，自己修改自己玩，若是想要让更多的人体验你的代码效果，直接提交 <code>pr</code> ，记得 提交规范参考这个 <a href="https://github.com/linuxdeepin/developer-center/wiki/Commit%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83" target="_blank" rel="noopener noreferrer">Commit提交规范<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 哦。下一篇再见~~</p> <br> <p><strong>若是希望能够快速被合并，附上一些建议：</strong></p> <ol><li>对于在其他发行版移植、一些缺陷 Bug 修复的，此类贡献 pr 都是很容易被合并的且快速的；</li> <li>对于一些社区的自定义功能，建议设置为只在社区 Deepin 上生效，且在 UOS 上默认生效是不生效关闭的，能够加快被被合并的速度；</li> <li>对于一些新功能和特性，若是 UOS 版本刚好需要，或者在规划中，也能够被快速合并；</li> <li>对于个人和来自社区的轮子，沟通下，也是很容易被合并的，社区都是很期待的（没有商业线那么严格的规范和流程）；</li> <li>尽可能的充分测试完整再提交；</li> <li><strong>一定要注意  <a href="https://github.com/linuxdeepin/developer-center/wiki/Commit%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83" target="_blank" rel="noopener noreferrer">Commit提交规范<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ；</strong></li> <li>可以在社区 bbs 论坛或者 github 进行沟通，提醒</li></ol> <p>另外，对于系统版本的区分，可以推荐使用如下接口的类 <a href="https://github.com/linuxdeepin/dtkcore/blob/523a51ab69e97b5fd8c906cb83ed3049888f680d/src/dsysinfo.h" target="_blank" rel="noopener noreferrer">dsysinfo.h<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ， 有空再写一个详细的教程，区分系统的各个版本。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>QString <span class="token class-name">DSysInfo</span><span class="token operator">::</span><span class="token function">uosEditionName</span><span class="token punctuation">(</span><span class="token keyword">const</span> QLocale <span class="token operator">&amp;</span>locale<span class="token punctuation">)</span> <span class="token comment">// 获取版本名称，比如英文的话返回&quot;Professional&quot;/&quot;Home&quot;/&quot;Community&quot;...</span>

<span class="token keyword">enum</span> <span class="token class-name">UosEdition</span> <span class="token punctuation">{</span>
    UosEditionUnknown<span class="token punctuation">,</span>
    UosProfessional<span class="token punctuation">,</span>  <span class="token comment">//专业版</span>
    UosHome<span class="token punctuation">,</span>   <span class="token comment">//个人版</span>
    UosCommunity<span class="token punctuation">,</span>    <span class="token comment">//社区版</span>
    UosMilitary<span class="token punctuation">,</span>
    UosEnterprise<span class="token punctuation">,</span>
    UosEnterpriseC<span class="token punctuation">,</span>
    UosEuler<span class="token punctuation">,</span>    <span class="token comment">// 欧拉版</span>
    UosMilitaryS<span class="token punctuation">,</span> <span class="token comment">// for Server</span>
    UosEditionCount <span class="token comment">// must at last</span>
<span class="token punctuation">}</span>；


<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token comment">// 不推荐使用下面的接口，后面此接口会被移除的。</span>

    <span class="token keyword">enum</span> <span class="token class-name">ProductType</span> <span class="token punctuation">{</span>
        UnknownType <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
        Deepin<span class="token punctuation">,</span>
        ArchLinux<span class="token punctuation">,</span>
        CentOS<span class="token punctuation">,</span>
        Debian<span class="token punctuation">,</span>
        Fedora<span class="token punctuation">,</span>
        LinuxMint<span class="token punctuation">,</span>
        Manjaro<span class="token punctuation">,</span>
        openSUSE<span class="token punctuation">,</span>
        SailfishOS<span class="token punctuation">,</span>
        Ubuntu<span class="token punctuation">,</span>
        Uos
    <span class="token punctuation">}</span>；

    <span class="token keyword">enum</span> <span class="token class-name">DeepinType</span> <span class="token punctuation">{</span>
        UnknownDeepin <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
        DeepinDesktop<span class="token punctuation">,</span>
        DeepinProfessional<span class="token punctuation">,</span>
        DeepinServer<span class="token punctuation">,</span>
        DeepinPersonal
    <span class="token punctuation">}</span>；
</code></pre></div><br> <h2 id="更新-2020-11-16"><a href="#更新-2020-11-16" class="header-anchor">#</a> 更新: 2020-11-16</h2> <p>以下修改早已经早已经完成， 不过由于发布版本时间的安排， 预计的发布策略， 整体的赶进度， 给测试预留时间， 和协调其它项目的开发者沟通，一起合作等等多方面因素， 导致不能一被修复就立马安排上，看到作用.</p> <p>修复 <strong>控制中心， 添加圆角修改窗口的布局错误，导致默认透明度模块被压缩了的 Bug</strong>:</p> <ul><li>本部分修改涉及到前端支持:
<ul><li><code>dde-control-center</code>: <a href="https://github.com/linuxdeepin/dde-control-center/commit/a6ea6be6927efede1ee3b7aac7265adcb62c21a9" target="_blank" rel="noopener noreferrer">a6ea6be6<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul> <br> <p>修复 <strong>注销/重启后，任务栏和活动窗口直角就成圆角了，状态不能够保存的 bug；</strong></p> <ul><li>本部分修改涉及到后端支持:
<ul><li><code>dde-daemon</code> : <a href="https://github.com/linuxdeepin/dde-daemon/commit/a6fee1b90fad7bf3a5414a241c90266bc2275322" target="_blank" rel="noopener noreferrer">a6fee1b9<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><code>startdde</code> : <a href="https://github.com/linuxdeepin/startdde/commit/f7b62e85d599e0c87734d2f4365b3fd15dd49cee" target="_blank" rel="noopener noreferrer">f7b62e85<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><code>deepin-desktop-schemas</code>:  <a href="https://github.com/linuxdeepin/deepin-desktop-schemas/commit/73b992dae8984675a3d93c96c200dd5baf31fe88" target="_blank" rel="noopener noreferrer">73b992da<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，  <a href="https://github.com/linuxdeepin/deepin-desktop-schemas/commit/9b448b22823d8d2fa051f792f161fd5c3eaa89af" target="_blank" rel="noopener noreferrer">9b448b22<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li> <li>本部分修改涉及到前端支持:
<ul><li><code>dde-control-center</code>: <a href="https://github.com/linuxdeepin/dde-control-center/commit/e523a87f80726dff196bccb78bbe5b1c2b0366ad" target="_blank" rel="noopener noreferrer">e523a87f<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul> <br> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结:</h2> <p>修改一个定义窗口圆角，在社区中早已经有人给出相应的教程，方法是修改一个 <code>dtkgui</code> 项目数值，然后重新生成对应的二进制后替换到系统目录中；虽然暂时可行，但是会有不规范，和重启或者注销之后， 失效的问题， 方法比较简单且粗犷和有效， 且替换方式复杂， <strong>感觉不是那么的简洁和优雅；</strong></p> <p>只是说能用，谁说官方迟迟未进行此功能呢? 迫不及待的热情技术者们， 就只好自己动手先来探探路， 搞一个可用方式， 先完成可达到的预期再说， 舒坦了~；</p> <p><strong>但作为正式的修改，</strong>  肯定不能同样的对待， 得符合一个dtk 的风格， 方便用户， 功能上和产品设计的规划不能冲突， 接口的修改要规范， 且要保持接口向下兼容.</p> <br> <p>本以为是修改一个简单功能， 但是会最后会牵涉到如此多的项目， 是我没有想到的: <code>dde-daemon</code>、<code>startdde</code> 、<code>deepin-desktop-schemas</code>、<code>dde-control-center</code>、<code>dtkgui</code>、 <code>dde-dock</code> 全程一共有 6 个，且其中好几个都是很重要的核心基础库，修改的话， 会对其他很多项目都有影响，所以修改的时候比较慎重和小心。 不过最后算是给社区加上了这个功能，还是很开心的。 Happy~;</p> <br> <h3 id="系列地址"><a href="#系列地址" class="header-anchor">#</a> 系列地址：</h3> <p><a href="https://github.com/xmuli/QtExamples" target="_blank" rel="noopener noreferrer">QtExamples<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>欢迎 <code>star</code> 和 <code>fork</code> 这个系列的 QT / DTK 学习，附学习由浅入深的目录。</p></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/linuxdeepin/docs/edit/master/docs/03.社区作品/02.Deepin 自定义修改窗口圆角大小.md" target="_blank" rel="noopener noreferrer">帮助编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">12/17/2020, 2:19:01 AM</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/fb3f3a/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">dde-dock 开发网速插件 lfxSpeed</div></a> <a href="/pages/fa806e/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">DTK 基础教程：自定义控件规范</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/fb3f3a/" class="prev">dde-dock 开发网速插件 lfxSpeed</a></span> <span class="next"><a href="/pages/fa806e/">DTK 基础教程：自定义控件规范</a>→
      </span></p></div></div></div> <!----> </main></div> <div class="footer"><div class="icons"><a href="mailto:github@uniontech.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/linuxdeepin/docs" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2020-2020
    <span>Deepin | MIT License</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">跟随系统</li><li class="iconfont icon-rijianmoshi">浅色模式</li><li class="iconfont icon-yejianmoshi">深色模式</li><li class="iconfont icon-yuedu">阅读模式</li></ul></div></div> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.fc02f5f4.js" defer></script><script src="/assets/js/2.ed4cc2e0.js" defer></script><script src="/assets/js/53.da75e3f7.js" defer></script>
  </body>
</html>