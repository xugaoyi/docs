(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{461:function(t,e,r){"use strict";r.r(e);var a=r(46),s=Object(a.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("p",{attrs:{align:"center"}},[r("img",{attrs:{src:"https://user-images.githubusercontent.com/56656996/99621835-b2d8dc80-29dd-11eb-8183-987e80f8b3a7.png"}})]),t._v(" "),r("h1",{attrs:{align:"center"}},[r("a",{attrs:{href:"https://github.com/dekzi/dde-store"}},[t._v("DDE商店")])]),t._v(" "),r("h3",{attrs:{align:"center"}},[t._v("使用DTK构建的DDE应用商店")]),t._v(" "),r("p",{attrs:{align:"center"}},[t._v("由"),r("a",{attrs:{href:"https://dekzi.github.io/"}},[t._v("dekzi")]),t._v("创建")]),t._v(" "),r("br"),t._v(" "),r("blockquote",[r("p",[t._v("文章原文 (英文) 初发于："),r("a",{attrs:{href:"https://docs.deepin.org/pages/e61e7f/",target:"_blank",rel:"noopener noreferrer"}},[t._v(" DDE Store"),r("OutboundLink")],1)])]),t._v(" "),r("p",[t._v("一个加拿大的作者，仿造 "),r("strong",[t._v("“应用商店”")]),t._v("  开发的国外版商店 ： "),r("a",{attrs:{href:"https://github.com/dekzi/dde-store",target:"_blank",rel:"noopener noreferrer"}},[t._v("dde-store"),r("OutboundLink")],1),t._v(" ， 感觉很赞")]),t._v(" "),r("br"),t._v(" "),r("h2",{attrs:{id:"使用的库"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#使用的库"}},[t._v("#")]),t._v(" 使用的库")]),t._v(" "),r("p",[r("strong",[t._v("PackageKit")]),t._v(" - 与系统包互动并管理系统包。")]),t._v(" "),r("p",[r("strong",[t._v("AppStream")]),t._v(" - 收集包的应用数据（信息和元数据）")]),t._v(" "),r("p",[r("strong",[t._v("Snapd")]),t._v(" - 可选的Snap支持（显然）")]),t._v(" "),r("br"),t._v(" "),r("h2",{attrs:{id:"文件结构"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#文件结构"}},[t._v("#")]),t._v(" 文件结构")]),t._v(" "),r("p",[t._v('每个文件都被归类到一个特定的文件夹中。这些文件夹中的大多数都相当简单，除了 "后台 "可能看起来有点模糊。"后台 "文件夹包含了管理和与应用程序的库交互的文件，以及应用程序的设置。没有放在一个文件夹里的3个文件是main.cpp、mainwindow.cpp和mainwindow.h--因为它们是主要的程序文件，所以我没有把它们分类，只把它们放在根目录下。')]),t._v(" "),r("br"),t._v(" "),r("h2",{attrs:{id:"主窗口"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#主窗口"}},[t._v("#")]),t._v(" 主窗口")]),t._v(" "),r("p",[t._v("主窗口创建UI，如侧栏，并管理所有的页面。侧边栏只是一个简单的DListView，它用一个QStackedWidget来控制页面。对于任何打开的页面，如果在侧边栏中没有相应的条目，QStackedWidget将独立打开它，并清除DListView的选定条目。")]),t._v(" "),r("br"),t._v(" "),r("h2",{attrs:{id:"后台"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#后台"}},[t._v("#")]),t._v(" 后台")]),t._v(" "),r("p",[t._v("后端文件（处理库）有点棘手。其中很多是同步和异步的混合，所以前端必须同时适应这两种情况。这就是为什么你可能会看到一些函数需要前端作为参数的原因--这样当异步任务完成时就可以返回数据。如果异步任务有可跟踪的进度，前端就会使用一个DProgressBar。如果没有，则使用DSpinner代替。")]),t._v(" "),r("br"),t._v(" "),r("h2",{attrs:{id:"小部件"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#小部件"}},[t._v("#")]),t._v(" 小部件")]),t._v(" "),r("p",[t._v('我只在 "widgets "文件夹中创建自定义widgets，如果有一个以上的文件可以使用的话。这些widgets中有些只是以特定方式配置的其他widgets，比如 "list.cpp "是一个配置的DListView。其他的可能是完全自定义的，或者是其他widget的混合体，比如图片库或星级图标。')]),t._v(" "),r("br"),t._v(" "),r("h2",{attrs:{id:"源代码"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#源代码"}},[t._v("#")]),t._v(" 源代码")]),t._v(" "),r("p",[t._v("如果你想看看源代码，看看我是如何使用DTK widgets和DTK的功能与系统交互的，你可以查看项目在"),r("a",{attrs:{href:"https://github.com/dekzi/dde-store",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub"),r("OutboundLink")],1),t._v("!")])])}),[],!1,null,null,null);e.default=s.exports}}]);